<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ecp.dao.AccountCompanyMapper">
  <resultMap id="BaseResultMap" type="com.ecp.entity.AccountCompany">
    <!--
      WARNING - @mbggenerated
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="cust_id" jdbcType="BIGINT" property="custId" />
    <result column="order_id" jdbcType="BIGINT" property="orderId" />
    <result column="order_no" jdbcType="VARCHAR" property="orderNo" />
    <result column="contract_id" jdbcType="BIGINT" property="contractId" />
    <result column="contract_no" jdbcType="VARCHAR" property="contractNo" />
    <result column="amount" jdbcType="DECIMAL" property="amount" />
    <result column="type" jdbcType="INTEGER" property="type" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="operator_id" jdbcType="BIGINT" property="operatorId" />
    <result column="operator_name" jdbcType="VARCHAR" property="operatorName" />
    <result column="comment" jdbcType="VARCHAR" property="comment" />
    <result column="bind_user_id" jdbcType="BIGINT" property="bindUserId" />
    <result column="role_id" jdbcType="BIGINT" property="roleId" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
    -->
    id, cust_id, order_id, order_no, contract_id, contract_no, amount, type, create_time, 
    operator_id, operator_name, comment, bind_user_id, role_id
  </sql>
  
  <select id="getItemsByOrder" resultMap="BaseResultMap">
  	select * from account_company 
  	<where>
  		order_id=#{orderId} AND
  		order_no=#{orderNo} 
  		
  		<if test="itemTypeList!=null and itemTypeList.size&gt;0">
  			AND
  			type in 	
  			<foreach close=")" collection="itemTypeList" index="index" item="itemType" open="(" separator=",">  
            	#{itemType}  
        	</foreach>	
  		
  		</if>
  		
  	</where>
  </select>
  
  
  
</mapper>